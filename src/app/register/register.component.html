<div class="container">

  <div class="card o-hidden border-0 shadow-lg my-5">
    <div class="card-body p-0">
      <div class="row">
        <div class="col-lg-5 d-none d-lg-block bg-register-image"></div>
        <div class="col-lg-7">
          <div class="p-5">
            <div class="text-center">
              <h1 class="h4 text-gray-900 mb-4">Create an Account!</h1>
            </div>
            <form class="user" (ngSubmit)="onRegister()" #registerForm="ngForm">
              <div class="form-group row">
                <!-- <div class="col-sm-6 mb-3 mb-sm-0">
                  <input type="text" class="form-control form-control-user" id="firstname" name="firstname"
                    [(ngModel)]="register.firstname" placeholder="First Name">
                </div> -->
                <!-- <div class="col-sm-6 mb-3 mb-sm-0">
                  <input type="text" class="form-control form-control-user" id="firstname" name="firstname"
                    [(ngModel)]="register.firstname" placeholder="First Name" required
                    #firstname="ngModel" [ngClass]="{'is-invalid': firstname.invalid && (firstname.dirty || firstname.touched)}">
                  <div *ngIf="firstname.invalid && firstname.errors?.['required']"
                    class="text-danger small mt-2">
                    First Name is required.
                  </div>
                  <div *ngIf="firstname.invalid && (firstname.errors?.['pattern']?.['requiredPattern'] || firstname.errors?.['pattern']?.['actualValue'])"
                    class="text-danger small mt-2">
                    First Name should start with an uppercase letter.
                  </div>
                </div> -->
                       
                <div class="col-sm-6 mb-3 mb-sm-0">
                  <input type="text" class="form-control form-control-user" id="firstname" name="firstname"
                    [(ngModel)]="register.firstname" placeholder="First Name" required
                    #firstname="ngModel" [ngClass]="{'is-invalid': firstname.invalid && (firstname.touched || firstname.dirty)}">
                  <div *ngIf="firstname.invalid && firstname.touched" class="text-danger small mt-2">
                    <div *ngIf="firstname.errors && firstname.errors['required']">
                      First Name is required.
                    </div>
                  </div>
                </div>
                                       
                
                
                

                <!-- <div class="col-sm-6">
                  <input type="text" class="form-control form-control-user" id="lastname" name="lastname"
                    [(ngModel)]="register.lastname" placeholder="Last Name">
                </div> -->

                <div class="col-sm-6">
                  <input type="text" class="form-control form-control-user" id="lastname" name="lastname"
                    [(ngModel)]="register.lastname" placeholder="Last Name" required
                    #lastname="ngModel" [ngClass]="{'is-invalid': lastname.invalid && (lastname.touched || lastname.dirty)}">
                  <div *ngIf="lastname.invalid && lastname.touched" class="text-danger small mt-2">
                    <div *ngIf="lastname.errors && lastname.errors['required']">
                      Last Name is required.
                    </div>
                    <div *ngIf="lastname.errors && lastname.errors['pattern']">
                      Last Name should start with an uppercase letter.
                    </div>
                  </div>
                </div>
                
                
              </div>
              <div class="form-group">
                <!-- <input type="email" class="form-control form-control-user" id="emailid" name="emailid"
                  [(ngModel)]="register.emailid" placeholder="Email Address"> -->
                 
                
                  <input type="email" class="form-control form-control-user" id="emailid" name="emailid"
                  [(ngModel)]="register.emailid" placeholder="Email Address" required email >
                <div *ngIf="registerForm.controls['emailid'].invalid && (registerForm.controls['emailid'].touched || registerForm.controls['emailid'].dirty)"
                  class="text-danger small mt-2" style="color: red;">
                  <ng-container *ngIf="registerForm.controls['emailid'].errors?.['required']">Email is required.</ng-container>
                  <ng-container *ngIf="registerForm.controls['emailid'].errors?.['email']">Invalid email address.</ng-container>
                </div>
                                                                                
                
                      
                    
                  
                  
              </div>
              <div class="form-group row">
                <div class="col-sm-6 mb-3 mb-sm-0">
                  <input type="text" class="form-control form-control-user" id="username" name="username"
                    [(ngModel)]="register.username" placeholder="User Name">
                </div>



                <div class="col-sm-6">
                  <!-- <input type="{{ showPassword ? 'text' : 'password' }}" class="form-control form-control-user"
                    id="password" name="password" [(ngModel)]="register.password" placeholder="Password">
                  <div class="custom-control custom-checkbox small ml-2 mt-2">
                    <input type="checkbox" class="custom-control-input" id="customCheck"
                      (change)="togglePasswordVisibility($event)">
                    <label class="custom-control-label" for="customCheck">Show Password</label>
                  </div> -->
                  <input type="{{ showPassword ? 'text' : 'password' }}" class="form-control form-control-user"
                  id="password" name="password" [(ngModel)]="register.password" placeholder="Password"
                  (blur)="onPasswordTouched()" [ngClass]="{ 'is-invalid': isPasswordInvalid() && passwordTouched }">
                
                <div class="custom-control custom-checkbox small ml-2 mt-2">
                  <input type="checkbox" class="custom-control-input" id="customCheck"
                    (change)="togglePasswordVisibility($event)">
                  <label class="custom-control-label" for="customCheck">Show Password</label>
                </div>
                <div *ngIf="isPasswordInvalid() && passwordTouched" class="text-danger small mt-2">
                  Password must be at least 8 characters long, contain one uppercase letter, one lowercase letter, and one special character.
                </div>
                
                </div>

              </div>


              <button type="submit" class="btn btn-primary btn-user btn-block">
                Register Account
              </button>

            </form>
            <hr>

            <div class="text-center">
              <a class="small" routerLink="/login">Already have an account? Login!</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>